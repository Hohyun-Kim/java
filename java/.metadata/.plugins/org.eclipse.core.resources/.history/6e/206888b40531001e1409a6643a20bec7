package com.ssafy.cartest;

import java.util.ArrayList;
import java.util.List;

public class CarManagerImpl implements CarManager {
  List<Car> list = new ArrayList<Car>();

  // Singleton 구현
  private static CarManager carManager = new CarManagerImpl();

  private CarManagerImpl() {}

  public static CarManager getCarManager() {
    return carManager;
  }

  @Override
  public void add(Car car) throws SameNumberException {
    for (Car carInList : list) {
      if (carInList.getCarNum() == car.getCarNum()) {
        throw new SameNumberException("SameNumberException 발생 : " + car.getCarNum() + "은 이미 등록!!!");
      }
    }
    list.add(car);
  }

  @Override
  public List<Car> search() {
    return list;
  }

  @Override
  public Car searchByNum(int carNum) throws NotFoundException {
    for (Car carInList : list) {
      if (carInList.getCarNum() == carNum) {
        return carInList;
      }
    }
    throw new NotFoundException("NotFoundException 발생 : " + carNum + "은 미등록 차량!!");
  }

  @Override
  public void save() {
    // TODO Auto-generated method stub

  }

  @Override
  public List<Car> load() {
    // TODO Auto-generated method stub
    return null;
  }

  @Override
  public void delete(String carName) {
    
    for (Car carInList : list) {
      if (carInList.getCarName().equals(carName)) {
        throw new SameNumberException("SameNumberException 발생 : " + car.getCarNum() + "은 이미 등록!!!");
      }
    }
    
  }

}
